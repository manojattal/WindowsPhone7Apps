(function(a,d){var c={};var b=null;a.tripplanner={};a.tripplanner.initialize=function(f,e){c=d.extend(true,{},{startActive:true,disabledClass:"grey",elt_input:d("#trip_code"),elt_submit:d("#exploreSubmit"),elt_dates:d("#searchDates"),elt_date_mode:d("#dateBegin input[name=mode]"),elt_date_begin:d("#dateBegin input[name=date]"),elt_year_begin:d("#dateBegin input[name=year]"),elt_month_begin:d("#dateBegin input[name=month]"),elt_day_begin:d("#dateBegin input[name=day]"),elt_date_end:d("#dateEnd input[name=dateend]"),elt_year_end:d("#dateEnd input[name=yearend]"),elt_month_end:d("#dateEnd input[name=monthend]"),elt_day_end:d("#dateEnd input[name=dayend]"),elt_activities:d("#searchActivities"),elt_activities_table:d("#searchActivities #searchActivitiesTable"),elt_trigger:null},f);c.datepicker_options=d.extend(true,{},{defaultDate:"+1d",prevText:"&#x25C4;",nextText:"&#x25BA;",dayNamesMin:["S","M","T","W","T","F","S"],dateFormat:"MM d, yy",minDate:0,buttonText:"",showOn:"both",onSelect:function(i){var h=(this.id==c.elt_date_begin[0].id);var j=d(this).datepicker("getDate");if(h){b.not(this).datepicker("option","minDate",j);var k=new Date(j.getTime());k.setDate(k.getDate()+30);b.not(this).datepicker("option","maxDate",k);c.elt_year_begin.val(j.getFullYear());c.elt_month_begin.val(j.getMonth()+1);c.elt_day_begin.val(j.getDate())}else{b.not(this).datepicker("option","maxDate",j);c.elt_year_end.val(j.getFullYear());c.elt_month_end.val(j.getMonth()+1);c.elt_day_end.val(j.getDate())}if(c.elt_date_mode.val()=="calendar"){c.elt_date_mode.val("")}}},e);b=c.elt_date_begin.add(c.elt_date_end).datepicker(c.datepicker_options);var g=[];b.each(function(){var h=d(this).siblings("button.ui-datepicker-trigger");g.push(h[0])});c.elt_trigger=d(g);if(!c.startActive){this.deactivate()}};a.tripplanner.activate=function(){c.elt_submit.attr("disabled",false);c.elt_submit.removeClass(c.disabledClass);c.elt_dates.removeClass(c.disabledClass);c.elt_activities.removeClass(c.disabledClass);c.elt_activities_table.show();c.elt_trigger.removeClass("calIconGrey").addClass("calIconBlack");b.removeClass(c.disabledClass);b.datepicker("enable")};a.tripplanner.deactivate=function(){c.elt_submit.attr("disabled",true);c.elt_submit.addClass(c.disabledClass);c.elt_dates.addClass(c.disabledClass);c.elt_activities.addClass(c.disabledClass);c.elt_activities_table.hide();c.elt_trigger.addClass("calIconGrey").removeClass("calIconBlack");b.addClass(c.disabledClass);b.datepicker("disable")}})(wui,jQuery);